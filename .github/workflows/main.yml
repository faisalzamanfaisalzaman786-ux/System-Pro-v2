- name: Prepare www folder (ZIP mode)
  if: github.event.client_payload.mode == 'zip'
  run: |
    set -x
    echo "${{ github.event.client_payload.app_zip_base64 }}" | base64 -d > project.zip
    echo "ZIP file size: $(wc -c < project.zip) bytes"
    file project.zip
    unzip -l project.zip || echo "unzip -l failed"
    unzip project.zip -d MyApp/www/ || { echo "unzip failed"; exit 1; }
    ls -la MyApp/www/
    if [ ! -f MyApp/www/index.html ]; then
      echo "❌ No index.html found in ZIP root"
      exit 1
    fi
    echo "✅ ZIP extracted successfully"
